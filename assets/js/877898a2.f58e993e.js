"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2943],{4203:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>a});var i=t(4848),s=t(8453);const r={title:"Contributing"},o=void 0,l={id:"guides-concepts/contributing",title:"Contributing",description:"Thank you for your interest in contributing to our project. We value your input",source:"@site/docs/guides-concepts/contributing.md",sourceDirName:"guides-concepts",slug:"/guides-concepts/contributing",permalink:"/docs/guides-concepts/contributing",draft:!1,unlisted:!1,editUrl:"https://github.com/halildurmus/win32/tree/main/website/docs/guides-concepts/contributing.md",tags:[],version:"current",lastUpdatedBy:"Halil Durmus",lastUpdatedAt:1722762635e3,frontMatter:{title:"Contributing"},sidebar:"mainSidebar",previous:{title:"Strings",permalink:"/docs/guides-concepts/com/strings"}},c={},a=[{value:"\ud83d\ude4c Ways You Can Contribute",id:"-ways-you-can-contribute",level:2},{value:"\ud83d\udee0\ufe0f Setting Up the Environment",id:"\ufe0f-setting-up-the-environment",level:2},{value:"\ud83d\udce5 Cloning the Repository",id:"-cloning-the-repository",level:3},{value:"\ud83d\udce6 Installing Dependencies",id:"-installing-dependencies",level:3},{value:"\u2705 Running Tests",id:"-running-tests",level:3},{value:"\ud83d\udcdd Contributing to the Documentation",id:"-contributing-to-the-documentation",level:2},{value:"\ud83d\udcbb Contributing to the <strong>win32</strong> Itself",id:"-contributing-to-the-win32-itself",level:2},{value:"Classic Win32 APIs",id:"classic-win32-apis",level:3},{value:"COM APIs",id:"com-apis",level:3},{value:"\ud83d\ude80 Committing Your Work and Preparing a Pull Request",id:"-committing-your-work-and-preparing-a-pull-request",level:2},{value:"\ud83c\udfa8 Coding Style",id:"-coding-style",level:3},{value:"\ud83d\udcdc Commit Convention",id:"-commit-convention",level:3},{value:"\ud83d\udd04 Creating a Pull Request",id:"-creating-a-pull-request",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Thank you for your interest in contributing to our project. We value your input\nand appreciate your effort to improve our work. This guide will help you get\nstarted with contributing to the ",(0,i.jsx)(n.strong,{children:"win32"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["We adhere to a ",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/blob/main/CODE_OF_CONDUCT.md",children:"Code of Conduct"})," to ensure a welcoming and inclusive community.\nPlease read it before contributing."]}),"\n",(0,i.jsx)(n.admonition,{type:"simple",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Working on Issues:"})," If you plan to work on an existing issue, please\ncomment on the issue page to let others know before you start."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Proposing New Features:"})," If you have an idea for a new feature, create an\nissue and discuss it with the community and maintainers."]}),"\n"]})}),"\n",(0,i.jsx)(n.h2,{id:"-ways-you-can-contribute",children:"\ud83d\ude4c Ways You Can Contribute"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\ud83c\udf1f Star Us on GitHub"}),": If you enjoy using our package, don't forget to star\nus on ",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32",children:"GitHub"}),"! Your support means a lot."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\ud83d\udc1b Report Bugs"}),": If you find a bug, please report it on our ",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/issues",children:"GitHub Issues"}),"\npage. We'll do our best to fix it as soon as possible."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\ud83d\udcda Improve Documentation"}),": Good documentation is imperative to the success\nof any project. You can help us by improving the quality of our documentation\nor adding new content."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\ud83d\udcdd Give Feedback"}),": We're always looking for ways to make ",(0,i.jsx)(n.strong,{children:"win32"})," better.\nPlease share how you use ",(0,i.jsx)(n.strong,{children:"win32"}),", what features are missing, and what works\nwell via ",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/discussions",children:"GitHub Discussions"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\ud83d\udce2 Share win32"}),": Help us reach more people. Share the ",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32",children:"win32 repo"}),"\nwith anyone who might be interested."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\ud83d\udcbb Contribute to the Codebase"}),": Your help is needed to make this project\nthe best it can be! You can develop new features or fix\n",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/issues",children:"existing issues"}),". Every contribution is greatly appreciated!"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\ud83d\udce6 Share Your Own Packages"}),": If you've created a package that builds on top\nof ",(0,i.jsx)(n.strong,{children:"win32"})," and provides a more Dart-friendly API for a specific Windows API,\nplease share it with us! Our community is growing rapidly, and your package\ncould be useful for many people. We'll be happy to add your package to our\n",(0,i.jsx)(n.a,{href:"https://win32.pub/packages",children:"packages page"})," and share it with our community."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-setting-up-the-environment",children:"\ud83d\udee0\ufe0f Setting Up the Environment"}),"\n",(0,i.jsx)(n.admonition,{title:"Requirements",type:"simple",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://dart.dev",children:"Dart"})," version ",(0,i.jsx)(n.code,{children:"3.4"})," or higher"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://nodejs.org",children:"Node.js"})," version ",(0,i.jsx)(n.code,{children:"20"})," or higher"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com",children:"npm"})," version ",(0,i.jsx)(n.code,{children:"10"})," or higher"]}),"\n"]})}),"\n",(0,i.jsxs)(n.p,{children:["If your environment is ready, you can ",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/fork",children:"fork the win32 repository"})," and clone it\nto your local machine."]}),"\n",(0,i.jsx)(n.h3,{id:"-cloning-the-repository",children:"\ud83d\udce5 Cloning the Repository"}),"\n",(0,i.jsxs)(n.p,{children:["After you fork the ",(0,i.jsx)(n.strong,{children:"win32"})," repository, you need to ",(0,i.jsx)(n.strong,{children:"clone"})," it to your local\nmachine. Instead of using the ",(0,i.jsx)(n.code,{children:"halildurmus/win32"})," repository, it's recommended\nto use your ",(0,i.jsx)(n.strong,{children:"fork"}),". This way, you can push your changes to your fork and\ncreate a pull request from there."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",metastring:'title="Terminal"',children:"git clone https://github.com/halildurmus/win32.git\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-installing-dependencies",children:"\ud83d\udce6 Installing Dependencies"}),"\n",(0,i.jsx)(n.p,{children:"After you clone the repository, you need to install the dependencies:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",metastring:'title="Terminal"',children:"dart pub get\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-running-tests",children:"\u2705 Running Tests"}),"\n",(0,i.jsxs)(n.p,{children:["You can use the ",(0,i.jsx)(n.code,{children:"dart test"})," command to run tests for the ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"package:win32"})}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",metastring:'title="Terminal"',children:"dart test\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"simple",children:(0,i.jsxs)(n.p,{children:["We're expecting proper ",(0,i.jsx)(n.strong,{children:"tests"})," for each ",(0,i.jsx)(n.strong,{children:"feature/bugfix"})," you make. If you're\nnot sure how to write tests for your feature/bugfix, please ask for help in the\nrelevant GitHub issue page."]})}),"\n",(0,i.jsx)(n.h2,{id:"-contributing-to-the-documentation",children:"\ud83d\udcdd Contributing to the Documentation"}),"\n",(0,i.jsxs)(n.p,{children:["Our documentation is built with ",(0,i.jsx)(n.a,{href:"https://docusaurus.io",children:"Docusaurus"}),". To contribute to the\ndocumentation, you need to install the dependencies and start the development\nserver:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",metastring:'title="Terminal"',children:"cd website\nnpm install\nnpm start\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Now, head over ",(0,i.jsx)(n.code,{children:"localhost:3000"})," to see the documentation."]}),"\n",(0,i.jsx)(n.admonition,{title:"Development Tip",type:"simple",children:(0,i.jsxs)(n.p,{children:["To create a production build of the documentation, you can use the\n",(0,i.jsx)(n.code,{children:"npm run build"})," command. Then, you can use the ",(0,i.jsx)(n.code,{children:"npm run serve"})," command to serve\nthe production build on your local machine."]})}),"\n",(0,i.jsxs)(n.h2,{id:"-contributing-to-the-win32-itself",children:["\ud83d\udcbb Contributing to the ",(0,i.jsx)(n.strong,{children:"win32"})," Itself"]}),"\n",(0,i.jsxs)(n.p,{children:["If you want to contribute to the ",(0,i.jsx)(n.strong,{children:"win32"})," itself, follow the steps below:"]}),"\n",(0,i.jsx)(n.h3,{id:"classic-win32-apis",children:"Classic Win32 APIs"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["When wrapping a Win32 API, use the ",(0,i.jsx)(n.strong,{children:"Unicode"})," (",(0,i.jsx)(n.code,{children:"'W'"}),") wide variants of these\nAPIs, rather than the ",(0,i.jsx)(n.strong,{children:"ANSI"})," (",(0,i.jsx)(n.code,{children:"'A'"}),") variants. For example:\n",(0,i.jsx)(n.a,{href:"https://learn.microsoft.com/windows/win32/api/wincred/nf-wincred-credwritew",children:"CredWriteW"}),", rather than ",(0,i.jsx)(n.a,{href:"https://learn.microsoft.com/windows/win32/api/wincred/nf-wincred-credwritea",children:"CredWriteA"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["To create a new API, ",(0,i.jsx)(n.em,{children:"don't"})," edit the main library files themselves; these get\n",(0,i.jsx)(n.strong,{children:"overwritten"}),". Instead, edit the\n",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/tree/main/packages/generator/data/win32_functions.json",children:"win32_functions.json"})," file and execute the\n",(0,i.jsx)(n.code,{children:"tools\\generate.cmd"})," script to update the library files:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmd",metastring:'title="Terminal"',children:"tools\\generate.cmd\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Structs can be ",(0,i.jsx)(n.strong,{children:"auto-generated"})," by including them in the\n",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/tree/main/packages/generator/data/win32_structs.json",children:"win32_structs.json"})," file and executing the\n",(0,i.jsx)(n.code,{children:"tools\\generate.cmd"})," script, which will generate the corresponding Dart files."]}),"\n",(0,i.jsxs)(n.p,{children:["Once generated, compile the ",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/tree/main/tools/struct_sizes/struct_sizes.cpp",children:"struct_sizes.cpp"})," on a\n",(0,i.jsx)(n.code,{children:"64-bit"})," machine architecture, typically using the\n",(0,i.jsx)(n.a,{href:"https://learn.microsoft.com/visualstudio/ide/reference/command-prompt-powershell",children:"Visual Studio Developer Command Prompt"})," with the\nfollowing command (replace ",(0,i.jsx)(n.code,{children:"xxxxx"})," with the installed Windows SDK build):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmd",metastring:'title="Terminal"',children:'cl /I "C:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.xxxxx.0\\winrt" \\\n  tools\\struct_sizes\\struct_sizes.cpp\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Once compiled, run the resulting ",(0,i.jsx)(n.code,{children:"struct_sizes.exe"})," file located in the\nproject root to obtain struct sizes; copy the output directly into the\n",(0,i.jsx)(n.code,{children:"structSizeMap"})," within the ",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/tree/main/packages/generator/lib/src/model/struct_sizes.dart",children:"struct_sizes.dart"})," file,\nand finally, execute the ",(0,i.jsx)(n.code,{children:"tools\\generate.cmd"})," script to generate struct size\ntests for each struct."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Constants belong in the ",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/tree/main/packages/win32/lib/src/constants.dart",children:"constants.dart"}),"; please add\ndocumentation. In rare cases (where the constant is truly self-documenting),\nyou may add to the ",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/tree/main/packages/win32/lib/src/constants_nodoc.dart",children:"constants_nodoc.dart"}),", although\nthe goal is to gradually document more constants."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"There are plenty of good existing patterns to build off in these locations;\ntry to mirror an existing function if you can for consistency!"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Ideally pull requests for new API submissions include a ",(0,i.jsx)(n.strong,{children:"sample"}),"\n(",(0,i.jsx)(n.code,{children:"examples\\"})," directory) and ",(0,i.jsx)(n.strong,{children:"some tests"})," (",(0,i.jsx)(n.code,{children:"packages\\win32\\test\\"})," directory)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"com-apis",children:"COM APIs"}),"\n",(0,i.jsxs)(n.p,{children:["Begin by editing the ",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/tree/main/packages/generator/data/com_types.json",children:"com_types.json"})," file, specifying the\ndesired COM interface, and then execute the ",(0,i.jsx)(n.code,{children:"tools\\generate.cmd"})," script to\ngenerate the relevant class in the ",(0,i.jsx)(n.code,{children:"packages\\win32\\lib\\src\\com"})," directory."]}),"\n",(0,i.jsx)(n.h2,{id:"-committing-your-work-and-preparing-a-pull-request",children:"\ud83d\ude80 Committing Your Work and Preparing a Pull Request"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"win32"})," is a ",(0,i.jsx)(n.strong,{children:"monorepo"})," with multiple packages and examples. To ensure we\nkeep things clean and in order, we use several tools to enforce a good\ndevelopment experience."]}),"\n",(0,i.jsx)(n.h3,{id:"-coding-style",children:"\ud83c\udfa8 Coding Style"}),"\n",(0,i.jsxs)(n.p,{children:["We follow the ",(0,i.jsx)(n.a,{href:"https://dart.dev/effective-dart/style",children:"Dart style guide"})," to maintain a clean and consistent codebase.\nMake sure you adhere to the style guide when working on the codebase."]}),"\n",(0,i.jsx)(n.h3,{id:"-commit-convention",children:"\ud83d\udcdc Commit Convention"}),"\n",(0,i.jsxs)(n.p,{children:["Commit messages are essential for clarity in our development process. We use\n",(0,i.jsx)(n.a,{href:"https://www.conventionalcommits.org/en/v1.0.0/",children:"Conventional Commits"})," to keep our commit messages ",(0,i.jsx)(n.strong,{children:"consistent"})," and ",(0,i.jsx)(n.strong,{children:"easy to\nunderstand"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"We expect commit messages to follow this format:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"<type>(optional scope): <description>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Here's an example of a good commit message:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"feat: add `refCount` function\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"simple",children:(0,i.jsxs)(n.p,{children:["We enforce ",(0,i.jsx)(n.strong,{children:"conventional commits"})," using a GitHub action. If you don't follow\nthe conventional commit format, the GitHub action will fail when you create a\npull request."]})}),"\n",(0,i.jsx)(n.h3,{id:"-creating-a-pull-request",children:"\ud83d\udd04 Creating a Pull Request"}),"\n",(0,i.jsxs)(n.p,{children:["After you ",(0,i.jsx)(n.strong,{children:"commit"})," your changes, you can push your changes to your ",(0,i.jsx)(n.strong,{children:"fork"}),"\nand ",(0,i.jsx)(n.a,{href:"https://github.com/halildurmus/win32/compare",children:"create a pull request"}),". When you create a ",(0,i.jsx)(n.strong,{children:"pull request"}),", a GitHub action\nwill run ",(0,i.jsx)(n.strong,{children:"tests"}),". Our maintainers will ",(0,i.jsx)(n.strong,{children:"review"})," your changes shortly and\n",(0,i.jsx)(n.strong,{children:"merge"})," your pull request if everything is in order."]}),"\n",(0,i.jsx)(n.p,{children:"Our Pull Request template is designed to ensure you provide all the necessary\ninformation about your changes. Please make sure you fill out the template with\nthe required information."}),"\n",(0,i.jsx)(n.p,{children:"We look forward to seeing your contributions! \ud83c\udf89"})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);